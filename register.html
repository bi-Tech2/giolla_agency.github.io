<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GIOLLA AGENCY - Smart Ideas for your Brand are Here</title>
</head>
<link rel="stylesheet" href="register.css">
<link rel="shortcut icon" href="assets/images/giolla-fav.png" type="image/x-icon">
<body>
  <!-- 
    - #HEADER
  -->
<main>
  <div class="box">
    <div class="inner-box">
      <div class="forms-wrap">
        <!-- Sign-in Form -->
        <form id="signInForm" class="sign-in-form">
          <div class="logo">
            <img src="assets/images/giolla-fav.png" alt="Giolla Agency" />
            <h4>Giolla Agency</h4>
          </div>
        
          <div class="heading">
            <h2>Welcome Back</h2>
            <h6>Not registered yet?</h6>
            <a href="#" class="toggle">Sign up</a>
          </div>
        
          <div class="actual-form">
            <div class="input-wrap">
              <input type="email" id="emailI" class="input-field" placeholder="Email address" required />
            </div>
        
            <div class="input-wrap">
              <input type="password" id="passwordI" class="input-field" required placeholder="Password" />
            </div>
        
            <input type="submit" value="Sign In" class="sign-btn" />
            <p id="signInMessage" class="text"></p>
        
            <p class="text">
              Forgotten your password or your login details?
              <a href="#">Get help</a> signing in
            </p>
          </div>
        </form>
        <script src="https://cdn.emailjs.com/dist/email.min.js"></script>

        
        <!-- Sign-up Form -->
        <!-- Sign-up Form -->
<form id="signUpForm" class="sign-up-form">
  <div class="logo">
    <img src="assets/images/giolla-fav.png" alt="Giolla Agency" />
    <h4>Giolla Agency</h4>
  </div>

  <div class="heading">
    <h2>Get Started</h2>
    <h6>Already have an account?</h6>
    <a href="#" class="toggle">Sign in</a>
  </div>

  <div class="actual-form">
    <div class="input-wrap">
      <input type="text" id="firstname" name="firstname" class="input-field" required placeholder="First name" />
    </div>

    <div class="input-wrap">
      <input type="text" id="lastname" name="lastname" class="input-field" required placeholder="Last name" />
    </div>

    <div class="input-wrap">
      <input type="email" id="email" name="email" class="input-field" required placeholder="Email address" />
    </div>

    <div class="input-wrap">
      <input type="password" id="password" name="password" class="input-field" required placeholder="Password" />
    </div>

    <input type="submit" value="Sign Up" id="sub" class="sign-btn" />
    <p id="signUpMessage" class="text"></p>

    <p class="text">
      By signing up, I agree to the
      <a href="#">Terms of Services</a> and
      <a href="#">Privacy Policy</a>
    </p>
  </div>
</form>

        <script>
          // Initialize EmailJS
emailjs.init("cGFGCFOuNXLaOaIXB");

// Handle form submission
document.getElementById("signUpForm").addEventListener("submit", function (event) {
  event.preventDefault(); // Prevent default form submission

  // Collect user information
  const firstname = document.getElementById("firstname").value;
  const lastname = document.getElementById("lastname").value;
  const email = document.getElementById("email").value;
  
  // For security, don't send passwords via email
  // const password = document.getElementById("password").value; 

  // Send the user's info to your email using EmailJS
  emailjs.send("service_4c9xitj", "template_gdpqzab", {
    to_email: "jodicksonjoshua@gmail.com", // You can replace this with a different email if needed
    firstname: firstname,
    lastname: lastname,
    email: email
  })
  .then(function (response) {
    console.log("Email sent successfully!", response.status, response.text);

    // Show success message
    document.getElementById("signUpMessage").innerText = "Registration successful! Check your email for confirmation.";
    document.getElementById("signUpMessage").style.color = "green";
  })
  .catch(function (error) {
    console.error("Failed to send email.", error);

    // Show error message
    document.getElementById("signUpMessage").innerText = "An error occurred. Please try again.";
    document.getElementById("signUpMessage").style.color = "red";
  });

  // Optionally, handle Firebase or any other registration process here
  // e.g., registerUser(firstname, lastname, email, password);
});

        </script>
        
        <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
        import {
          getAuth,
          createUserWithEmailAndPassword,
          signInWithEmailAndPassword,
        } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";
        import {
          getFirestore,
          setDoc,
          doc,
        } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";
        
        const firebaseConfig = {
          apiKey: "AIzaSyDof1osvm7sUifygPIqH_UyHdZLIRh-Kmo",
          authDomain: "giolla-974a3.firebaseapp.com",
          projectId: "giolla-974a3",
          storageBucket: "giolla-974a3.appspot.com",
          messagingSenderId: "665088692194",
          appId: "1:665088692194:web:dd1c57d4261cc5fe5973bb",
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();
        const db = getFirestore();
        
        function showMessage(message, divId) {
          const messageDiv = document.getElementById(divId);
          messageDiv.style.display = "block";
          messageDiv.innerHTML = message;
          messageDiv.style.opacity = 1;
          setTimeout(function () {
            messageDiv.style.opacity = 0;
          }, 1000);
        }
        
        // Sign-up logic
        document.getElementById("signUpForm").addEventListener("submit", (event) => {
          event.preventDefault();
        
          const email = document.getElementById("email").value;
          const password = document.getElementById("password").value;
          const firstname = document.getElementById("firstname").value;
          const lastname = document.getElementById("lastname").value;
        
          createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
              const user = userCredential.user;
              const userData = {
                email: email,
                firstname: firstname,
                lastname: lastname,
              };
        
              const docRef = doc(db, "users", user.uid);
              setDoc(docRef, userData)
                .then(() => {
                  alert("Account creation successful! redirecting now....");
                  window.location.href = "dashboard.html";
                })
                .catch((error) => {
                  console.error("Firestore error:", error);
                  alert("Error storing user data in Firestore");
                });
            })
            .catch((error) => {
              const errorCode = error.code;
              if (errorCode === "auth/email-already-in-use") {
                alert("This email is already in use!");
              } else {
                alert("Email is already in use");
              }
            });
        });
        
        // Sign-in logic
        document.getElementById("signInForm").addEventListener("submit", (event) => {
          event.preventDefault();
        
          const emailI = document.getElementById("emailI").value;
          const passwordI = document.getElementById("passwordI").value;
        
          signInWithEmailAndPassword(auth, emailI, passwordI)
            .then((userCredential) => {
              alert("Login Successful! redirecting now....");
              const user = userCredential.user;
              localStorage.setItem("loggedInUserId", user.uid);
              window.location.href = "dashboard.html";
            })
            .catch((error) => {
              const errorCode = error.code;
              if (errorCode === "auth/user-not-found") {
                alert("Account not found");
              } else if (errorCode === "auth/wrong-password") {
                alert("Incorrect password");
              } else {
                alert("Wrong Email or Password inputed");
              }
            });
        });
        
        const inputs = document.querySelectorAll(".input-field");
        const toggle_btn = document.querySelectorAll(".toggle");
        const main = document.querySelector("main");
        const bullets = document.querySelectorAll(".bullets span");
        const images = document.querySelectorAll(".image");
        
        inputs.forEach((inp) => {
          inp.addEventListener("focus", () => {
            const parent = inp.parentElement;
            parent.classList.add("focus");
          });
        
          inp.addEventListener("blur", () => {
            if (inp.value === "") {
              const parent = inp.parentElement;
              parent.classList.remove("focus");
            }
          });
        });
        
        toggle_btn.forEach((btn) => {
          btn.addEventListener("click", () => {
            main.classList.toggle("sign-up-mode");
          });
        });
        
        let index = 1;
        setInterval(() => {
          index++;
          if (index > images.length) {
            index = 1;
          }
          changeImage(index);
        }, 1000);
        
        function changeImage(index) {
          images.forEach((img) => {
            img.classList.remove("show");
          });
          images[index - 1].classList.add("show");
          updateBullets(index);
        }
        
        function updateBullets(index) {
          bullets.forEach((bullet) => {
            bullet.classList.remove("active");
          });
          bullets[index - 1].classList.add("active");
        }
        
        bullets.forEach((bullet) => {
          bullet.addEventListener("click", () => {
            const value = bullet.getAttribute("data-value");
            changeImage(value);
            index = value;
          });
        });
        
        </script>
      </div>

      <div class="carousel">
        <div class="images-wrapper">
          <img src="assets/images/blue-background-with-abstract-shapes_23-2148998576.jpg" class="image img-1 show" alt="" />
          <img src="assets/images/realistic-liquid-effect-blue-background_52683-23147.jpg" class="image img-2" alt="" />
          <img src="assets/images/realistic-glassmorphism-86869.jpg" class="image img-3" alt="" />
        </div>

        <div class="text-slider">
          <div class="text-wrap">
            <div class="text-group">
              <h2>Create your own courses</h2>
              <h2>Customize as you like</h2>
              <h2>Invite students to your class</h2>
            </div>
          </div>

          <div class="bullets">
            <span class="active" data-value="1"></span>
            <span data-value="2"></span>
            <span data-value="3"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</main> 





</body>

</html>